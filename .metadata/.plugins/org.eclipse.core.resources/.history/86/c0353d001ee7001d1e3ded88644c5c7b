import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Graphics;
import java.awt.GridLayout;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;

import javax.swing.JButton;
import javax.swing.JComponent;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;

public class Juego  extends JFrame{
	public int player_x=100, player_y=280,last_pressed=0;
	public Juego() {
		
		this.setVisible(true);
		this.setSize(655,590);
		this.setTitle("Ventana Perrona");
		this.setLayout(null);
		this.setLocationRelativeTo(null);
		this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		
		//PANEL DE FONDO
		JPanel panelsito = new JPanel();
		panelsito.setSize(650,550);
		panelsito.setOpaque(true);
		panelsito.setLayout(new BorderLayout());
		panelsito.setBackground(Color.decode("#FFFFFF"));
		this.add(panelsito);
		
		//PANEL CENTRAL
		JPanel panelsitoCentral = new JPanel();
		panelsitoCentral.setOpaque(true);
		panelsitoCentral.setSize(650,590);
		panelsitoCentral.setLayout(new BorderLayout());
		panelsito.add(panelsitoCentral,BorderLayout.CENTER);
		
		///////////////ACA SE DIBUJAN LOS GRÃFICOS////////////////
		panelsitoCentral.add(new MyGraphics());

		//PANEL ABAJO
		JPanel panelAb = new JPanel();
		panelAb.setVisible(true);
		panelAb.setOpaque(true);
		panelAb.setLayout(new GridLayout());
		panelsito.add(panelAb,BorderLayout.SOUTH);
		
		JLabel eb = new JLabel(" ");
		eb.setOpaque(true);
		eb.setVisible(true);
		eb.setBackground(Color.decode("#FFFFFF"));
		panelAb.add(eb);
		
		JButton reinicio = new JButton("holaaa");
		reinicio.setVisible(true);
		reinicio.setOpaque(true);
		reinicio.setBackground(Color.gray);
		panelAb.add(reinicio);
		
		JLabel eb1 = new JLabel(" ");
		eb1.setOpaque(true);
		eb1.setVisible(true);
		eb1.setBackground(Color.decode("#FFFFFF"));
		panelAb.add(eb1);
		
		panelsitoCentral.setFocusable(true);
		panelsitoCentral.requestFocus();
		
		panelsitoCentral.addKeyListener(new KeyListener() {
			
			@Override
			public void keyTyped(KeyEvent e) {
				// TODO Auto-generated method stub
			}

			@Override
			public void keyPressed(KeyEvent e) {
				// TODO Auto-generated method stub
				//System.out.println(e.getKeyCode());
				last_pressed = e.getKeyCode();
				
				if(last_pressed==87 && player_y>0) {
					player_y -= 5;
				}
				if(last_pressed==83 && player_y<505) {
					player_y += 5;
				}
				if(last_pressed==68 && player_x<620) {
					player_x += 5;
				}
				if(last_pressed==65 && player_x>0) {
					player_x -= 5;
				}
				repaint();
				revalidate();
			}

			@Override
			public void keyReleased(KeyEvent e) {
				// TODO Auto-generated method stub
				
			}
			
		});
		
		repaint();
		revalidate();
	}
	
	public class Rect{
		int x=0;
		int y=0;
		int w=0;
		int h=0;
		Color c = Color.black;
		
		Rect(int x, int y, int w, int h, Color c){
			this.x=x;
			this.y=y;
			this.w=w;
			this.h=h;
			this.c=c;
		}
		
		public Boolean colision(Rect target) {
			if(this.x<target.x + target.w && this.x + this.w > target.x && 
				this.y<target.y + target.h && this.y + this.h > target.y) {
				return true;
			}
			return false;
		}
		
	}
	
	public class MyGraphics extends JComponent{
		private static final long serialVersionUID = 1L;
		public MyGraphics() {
			setPreferredSize(new Dimension(650,550));
		}
		
	    public void paintComponent(Graphics g){
	    super.paintComponents(g);
	    
	    Rect borde1 = new Rect(0, 0, 640, 10, Color.black);
	    g.setColor(borde1.c);
		g.fillRect(borde1.x,borde1.y,borde1.w,borde1.h);
		
	    Rect borde2 = new Rect(0, 0, 10, 540, Color.black);
	    g.setColor(borde2.c);
		g.fillRect(borde2.x,borde2.y,borde2.w,borde2.h);
		
		Rect borde3 = new Rect(630, 0, 10, 540, Color.black);
		g.setColor(borde3.c);
		g.fillRect(borde3.x,borde3.y,borde3.w,borde3.h);
		
		Rect borde4 = new Rect(0, 515, 640, 10, Color.black);
		g.setColor(borde4.c);
		g.fillRect(borde4.x,borde4.y,borde4.w,borde4.h);
		
	    
	    Rect jugador = new Rect(player_x, player_y, 10, 10,Color.red);
	    g.setColor(jugador.c);
		g.fillRect(jugador.x,jugador.y,jugador.w,jugador.h);
		
		
		Rect pared1 = new Rect(300,60,40,300,Color.decode("#D55400"));
		g.setColor(pared1.c);
		g.fillRect(pared1.x,pared1.y,pared1.w,pared1.h);
		
		
		
	    }
	}
}
